kind: pipeline
name: default

steps:
- name: get code
  volumes:
  - name: tmp
    path: /tmp/blog
  commands:
  - git pull origin master

- name: install
  image: node:10.16.0
  commands:
  - yarn --version
  - yarn install --force

- name: build
  image: node:10.16.0
  commands:
  - yarn build

volumes:
- name: tmp
  host:
    path: /root/blog
